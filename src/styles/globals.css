@tailwind base;
@tailwind components;
@tailwind utilities;

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Optimize rendering */
body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Aeonik Pro Font Family */
@font-face {
  font-family: "Aeonik Pro";
  src: url("/fonts/AeonikPro-Thin.otf") format("opentype");
  font-weight: 100;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Aeonik Pro";
  src: url("/fonts/AeonikPro-ThinItalic.otf") format("opentype");
  font-weight: 100;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: "Aeonik Pro";
  src: url("/fonts/AeonikPro-Air.otf") format("opentype");
  font-weight: 200;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Aeonik Pro";
  src: url("/fonts/AeonikPro-AirItalic.otf") format("opentype");
  font-weight: 200;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: "Aeonik Pro";
  src: url("/fonts/AeonikPro-Light.otf") format("opentype");
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Aeonik Pro";
  src: url("/fonts/AeonikPro-LightItalic.otf") format("opentype");
  font-weight: 300;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: "Aeonik Pro";
  src: url("/fonts/AeonikPro-Regular.otf") format("opentype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Aeonik Pro";
  src: url("/fonts/AeonikPro-RegularItalic.otf") format("opentype");
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: "Aeonik Pro";
  src: url("/fonts/AeonikPro-Medium.otf") format("opentype");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Aeonik Pro";
  src: url("/fonts/AeonikPro-MediumItalic.otf") format("opentype");
  font-weight: 500;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: "Aeonik Pro";
  src: url("/fonts/AeonikPro-SemiBold.otf") format("opentype");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Aeonik Pro";
  src: url("/fonts/AeonikPro-SemiBoldItalic.otf") format("opentype");
  font-weight: 600;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: "Aeonik Pro";
  src: url("/fonts/AeonikPro-Bold.otf") format("opentype");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Aeonik Pro";
  src: url("/fonts/AeonikPro-BoldItalic.otf") format("opentype");
  font-weight: 700;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: "Aeonik Pro";
  src: url("/fonts/AeonikPro-Black.otf") format("opentype");
  font-weight: 900;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Aeonik Pro";
  src: url("/fonts/AeonikPro-BlackItalic.otf") format("opentype");
  font-weight: 900;
  font-style: italic;
  font-display: swap;
}

@layer base {
  :root {
    /* ========================================
       GRUBY DESIGN SYSTEM v2.0
       Unified Cross-Platform Tokens
       ======================================== */

    /* PRIMITIVE COLORS */
    --color-charcoal: #222222;
    --color-primary-brown: #504944;
    --color-white: #ffffff;
    --color-warm-parchment: #faf9f6;
    --color-wolf-gray: #d9d9d6;
    --color-olive: #222222; /* DEPRECATED - Maps to charcoal */
    --color-burnt-umber: #9c6b3f;
    --color-clay-taupe: #b8a89a;
    --color-dried-chili: #7a3e2e;

    /* SEMANTIC - BACKGROUNDS */
    --color-bg: var(--color-white);
    --color-bg-subtle: var(--color-warm-parchment);
    --color-surface: var(--color-white);
    --color-surface-elevated: var(--color-warm-parchment);
    --color-surface-muted: var(--color-wolf-gray);

    /* SEMANTIC - TEXT */
    --color-text: var(--color-charcoal);
    --color-text-muted: var(--color-clay-taupe);
    --color-text-subtle: var(--color-clay-taupe);
    --color-text-inverse: var(--color-white);

    /* SEMANTIC - ICONS */
    --color-icon: var(--color-charcoal);
    --color-icon-muted: var(--color-clay-taupe);
    --color-icon-subtle: var(--color-clay-taupe);

    /* SEMANTIC - BORDERS */
    --color-border: var(--color-wolf-gray);
    --color-border-subtle: rgba(217, 217, 214, 0.5);
    --color-border-strong: var(--color-charcoal);

    /* SEMANTIC - PRIMARY (Primary Brown - Buttons & Key Elements) */
    --color-primary: var(--color-primary-brown);
    --color-primary-foreground: var(--color-white);
    --color-primary-hover: #403a36;
    --color-primary-active: #302b28;

    /* SEMANTIC - SECONDARY */
    --color-secondary: var(--color-white);
    --color-secondary-foreground: var(--color-charcoal);
    --color-secondary-border: var(--color-wolf-gray);
    --color-secondary-hover: var(--color-warm-parchment);

    /* SEMANTIC - SUPPORT (now Charcoal) */
    --color-support: var(--color-charcoal);
    --color-support-foreground: var(--color-white);
    --color-support-muted: rgba(34, 34, 34, 0.12);
    --color-support-border: var(--color-charcoal);

    /* SEMANTIC - ACCENT WARM (Burnt Umber) */
    --color-accent-warm: var(--color-burnt-umber);
    --color-accent-warm-foreground: var(--color-white);
    --color-accent-warm-muted: rgba(156, 107, 63, 0.12);

    /* SEMANTIC - DANGER (Dried Chili - Errors only) */
    --color-danger: var(--color-dried-chili);
    --color-danger-foreground: var(--color-white);
    --color-danger-muted: rgba(122, 62, 46, 0.12);

    /* SEMANTIC - SUCCESS/WARNING/INFO */
    --color-success: var(--color-charcoal);
    --color-success-foreground: var(--color-white);
    --color-warning: #d4a574;
    --color-warning-foreground: var(--color-charcoal);
    --color-info: var(--color-burnt-umber);
    --color-info-foreground: var(--color-white);

    /* SEMANTIC - INTERACTIVE */
    --color-focus: var(--color-charcoal);
    --color-focus-ring: rgba(34, 34, 34, 0.4);
    --color-overlay: rgba(34, 34, 34, 0.5);
    --color-shadow: rgba(0, 0, 0, 0.08);
    --color-shadow-strong: rgba(0, 0, 0, 0.16);

    /* SEMANTIC - UI ELEMENTS */
    --color-skeleton: var(--color-wolf-gray);
    --color-input: var(--color-warm-parchment);
    --color-input-border: var(--color-wolf-gray);
    --color-input-focus-border: var(--color-charcoal);
    --color-input-placeholder: var(--color-clay-taupe);

    /* SEMANTIC - NAV/TABS/BADGES (now uses Charcoal) */
    --color-nav-chrome: var(--color-charcoal);
    --color-tab-indicator: var(--color-charcoal);
    --color-badge: rgba(34, 34, 34, 0.12);
    --color-badge-text: var(--color-charcoal);
    --color-chip: var(--color-warm-parchment);
    --color-chip-border: var(--color-wolf-gray);
    --color-chip-selected: var(--color-charcoal);
    --color-chip-selected-text: var(--color-white);

    /* SHADCN COMPATIBILITY LAYER */
    --background: 0 0% 100%;
    --foreground: 0 0% 13%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 13%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 13%;
    --primary: 0 0% 13%;
    --primary-foreground: 0 0% 100%;
    --secondary: 40 33% 97%;
    --secondary-foreground: 0 0% 13%;
    --muted: 40 33% 97%;
    --muted-foreground: 63 21% 34%;
    --accent: 63 21% 34%;
    --accent-foreground: 0 0% 100%;
    --destructive: 11 52% 32%;
    --destructive-foreground: 0 0% 100%;
    --border: 40 3% 85%;
    --input: 40 33% 97%;
    --ring: 0 0% 13%;
    --radius: 0.75rem;

    /* SPACING */
    --spacing-0: 0px;
    --spacing-1: 4px;
    --spacing-2: 8px;
    --spacing-3: 12px;
    --spacing-4: 16px;
    --spacing-5: 20px;
    --spacing-6: 24px;
    --spacing-8: 32px;
    --spacing-10: 40px;
    --spacing-12: 48px;

    /* RADIUS */
    --radius-none: 0px;
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-button: 13px;
    --radius-card: 14px;
    --radius-lg: 16px;
    --radius-pill: 20px;
    --radius-xl: 24px;
    --radius-full: 9999px;

    /* ANIMATION */
    --press-scale-button: 0.98;
    --press-scale-card: 0.98;
    --press-scale-chip: 0.95;
    --press-scale-icon: 0.9;
    --opacity-disabled: 0.5;
    --opacity-hover: 0.9;
    --opacity-active: 0.8;

    /* LEGACY ALIASES (for backwards compatibility) */
    /* IMPORTANT: gruby-primary now uses Charcoal for buttons/infrastructure */
    --gruby-primary: var(--color-primary);
    --gruby-secondary: var(--color-accent-warm);
    --gruby-accent: var(--color-support);
    --text-primary: var(--color-text);
    --text-secondary: var(--color-text-muted);
    --text-tertiary: var(--color-text-subtle);
    --palette-olive-ash: var(--color-olive);
    --palette-warm-parchment: var(--color-warm-parchment);
    --palette-burnt-umber: var(--color-burnt-umber);
    --palette-charcoal-ink: var(--color-charcoal);
    --palette-clay-taupe: var(--color-clay-taupe);
    --palette-dried-chili: var(--color-dried-chili);
  }

  .dark {
    /* SEMANTIC - BACKGROUNDS */
    --color-bg: #1a1a1a;
    --color-bg-subtle: #222222;
    --color-surface: #222222;
    --color-surface-elevated: #2a2a2a;
    --color-surface-muted: #333333;

    /* SEMANTIC - TEXT */
    --color-text: var(--color-warm-parchment);
    --color-text-muted: var(--color-clay-taupe);
    --color-text-subtle: var(--color-olive);
    --color-text-inverse: var(--color-charcoal);

    /* SEMANTIC - ICONS */
    --color-icon: var(--color-warm-parchment);
    --color-icon-muted: var(--color-clay-taupe);
    --color-icon-subtle: var(--color-olive);

    /* SEMANTIC - BORDERS */
    --color-border: #333333;
    --color-border-subtle: rgba(51, 51, 51, 0.5);
    --color-border-strong: var(--color-warm-parchment);

    /* SEMANTIC - PRIMARY (inverted for dark) */
    --color-primary: var(--color-warm-parchment);
    --color-primary-foreground: var(--color-charcoal);
    --color-primary-hover: var(--color-white);
    --color-primary-active: var(--color-wolf-gray);

    /* SEMANTIC - SECONDARY */
    --color-secondary: #2a2a2a;
    --color-secondary-foreground: var(--color-warm-parchment);
    --color-secondary-border: #333333;
    --color-secondary-hover: #333333;

    /* SEMANTIC - SUPPORT (lighter olive for dark) */
    --color-support: #8b8b6a;
    --color-support-foreground: #1a1a1a;
    --color-support-muted: rgba(139, 139, 106, 0.2);

    /* SEMANTIC - ACCENT WARM */
    --color-accent-warm: #b8916b;
    --color-accent-warm-foreground: #1a1a1a;

    /* SEMANTIC - DANGER */
    --color-danger: #a85a4a;
    --color-danger-foreground: var(--color-warm-parchment);

    /* SEMANTIC - INTERACTIVE */
    --color-focus: var(--color-warm-parchment);
    --color-focus-ring: rgba(250, 249, 246, 0.4);
    --color-overlay: rgba(0, 0, 0, 0.7);
    --color-shadow: rgba(0, 0, 0, 0.3);

    /* SEMANTIC - UI ELEMENTS */
    --color-skeleton: #333333;
    --color-input: #2a2a2a;
    --color-input-border: #333333;
    --color-input-focus-border: var(--color-warm-parchment);
    --color-input-placeholder: var(--color-olive);

    /* SEMANTIC - NAV/TABS/BADGES */
    --color-nav-chrome: #8b8b6a;
    --color-tab-indicator: #8b8b6a;
    --color-badge: rgba(139, 139, 106, 0.2);
    --color-badge-text: #8b8b6a;
    --color-chip: #2a2a2a;
    --color-chip-border: #333333;
    --color-chip-selected: var(--color-warm-parchment);
    --color-chip-selected-text: var(--color-charcoal);

    /* SHADCN COMPATIBILITY */
    --background: 0 0% 10%;
    --foreground: 40 33% 97%;
    --card: 0 0% 13%;
    --card-foreground: 40 33% 97%;
    --popover: 0 0% 13%;
    --popover-foreground: 40 33% 97%;
    --primary: 40 33% 97%;
    --primary-foreground: 0 0% 13%;
    --secondary: 0 0% 17%;
    --secondary-foreground: 40 33% 97%;
    --muted: 0 0% 17%;
    --muted-foreground: 30 13% 68%;
    --accent: 63 14% 48%;
    --accent-foreground: 0 0% 10%;
    --destructive: 11 39% 47%;
    --destructive-foreground: 40 33% 97%;
    --border: 0 0% 20%;
    --input: 0 0% 17%;
    --ring: 40 33% 97%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family:
      "Aeonik Pro",
      -apple-system,
      BlinkMacSystemFont,
      "Segoe UI",
      Roboto,
      sans-serif;
  }
}

@layer utilities {
  .font-heading {
    font-family:
      "Aeonik Pro",
      -apple-system,
      BlinkMacSystemFont,
      "Segoe UI",
      Roboto,
      sans-serif;
  }
}

/* Ensure type safety for custom properties */
:root {
  --radius: 0.5rem;
}

/* Type-safe utility classes */
.rounded-custom {
  border-radius: var(--radius);
}

/* Line clamp utilities for text truncation */
.line-clamp-1 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
}

.line-clamp-2 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
}

.line-clamp-3 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
}

/* Responsive design utilities */
@screen sm {
  :root {
    --radius: 0.75rem;
  }
}

@screen lg {
  :root {
    --radius: 1rem;
  }
}

/* Improved accessibility */
@media (prefers-reduced-motion: reduce) {
  * {
    transition-duration: 0.01ms !important;
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    scroll-behavior: auto !important;
  }
}

/* Focus visible utility */
.focus-visible:focus-visible {
  outline: 2px solid var(--ring);
  outline-offset: 2px;
}

/* Print styles */
@media print {
  body {
    background-color: white;
    color: black;
  }
}

/* Performance optimizations for animations */
@layer utilities {
  .animate-fade-in {
    animation: fadeIn 0.6s ease-out forwards;
  }

  .animate-slide-up {
    animation: slideUp 0.7s ease-out forwards;
  }

  .will-change-transform {
    will-change: transform;
  }

  .will-change-opacity {
    will-change: opacity;
  }

  /* GPU acceleration for smooth animations */
  .gpu-accelerated {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Optimize image loading */
img {
  content-visibility: auto;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

/* Container Queries Support */
/* Container queries are defined inline using containerType and @container queries in components */

/* Fluid Typography Utilities */
@layer utilities {
  /* Fluid font sizes using clamp() */
  .text-fluid-xs {
    font-size: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem);
  }

  .text-fluid-sm {
    font-size: clamp(0.875rem, 0.8rem + 0.375vw, 1rem);
  }

  .text-fluid-base {
    font-size: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);
  }

  .text-fluid-lg {
    font-size: clamp(1.125rem, 1rem + 0.625vw, 1.25rem);
  }

  .text-fluid-xl {
    font-size: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);
  }

  .text-fluid-2xl {
    font-size: clamp(1.5rem, 1.3rem + 1vw, 2rem);
  }

  .text-fluid-3xl {
    font-size: clamp(1.875rem, 1.5rem + 1.875vw, 2.5rem);
  }

  .text-fluid-4xl {
    font-size: clamp(2.25rem, 1.8rem + 2.25vw, 3rem);
  }

  .text-fluid-5xl {
    font-size: clamp(3rem, 2.4rem + 3vw, 4rem);
  }

  /* Fluid spacing utilities */
  .spacing-fluid-sm {
    padding: clamp(0.5rem, 0.4rem + 0.5vw, 0.75rem);
  }

  .spacing-fluid-md {
    padding: clamp(1rem, 0.8rem + 1vw, 1.5rem);
  }

  .spacing-fluid-lg {
    padding: clamp(1.5rem, 1.2rem + 1.5vw, 2.5rem);
  }

  .spacing-fluid-xl {
    padding: clamp(2rem, 1.6rem + 2vw, 3.5rem);
  }

  /* Fluid width utilities */
  .w-fluid-sm {
    width: clamp(200px, 25vw, 300px);
  }

  .w-fluid-md {
    width: clamp(300px, 40vw, 500px);
  }

  .w-fluid-lg {
    width: clamp(400px, 50vw, 700px);
  }

  .w-fluid-xl {
    width: clamp(500px, 60vw, 900px);
  }

  /* Fluid max-width utilities */
  .max-w-fluid-sm {
    max-width: clamp(300px, 30vw, 400px);
  }

  .max-w-fluid-md {
    max-width: clamp(400px, 40vw, 600px);
  }

  .max-w-fluid-lg {
    max-width: clamp(600px, 50vw, 900px);
  }

  .max-w-fluid-xl {
    max-width: clamp(800px, 60vw, 1200px);
  }
}

/* CSS Custom Properties for Responsive Design */
:root {
  /* Viewport-based sizing */
  --vw-unit: 1vw;
  --vh-unit: 1vh;

  /* Fluid spacing scale */
  --spacing-xs: clamp(0.25rem, 0.2rem + 0.25vw, 0.5rem);
  --spacing-sm: clamp(0.5rem, 0.4rem + 0.5vw, 0.75rem);
  --spacing-md: clamp(1rem, 0.8rem + 1vw, 1.5rem);
  --spacing-lg: clamp(1.5rem, 1.2rem + 1.5vw, 2.5rem);
  --spacing-xl: clamp(2rem, 1.6rem + 2vw, 3.5rem);
  --spacing-2xl: clamp(3rem, 2.4rem + 3vw, 5rem);

  /* Fluid typography scale */
  --font-xs: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem);
  --font-sm: clamp(0.875rem, 0.8rem + 0.375vw, 1rem);
  --font-base: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);
  --font-lg: clamp(1.125rem, 1rem + 0.625vw, 1.25rem);
  --font-xl: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);
  --font-2xl: clamp(1.5rem, 1.3rem + 1vw, 2rem);
  --font-3xl: clamp(1.875rem, 1.5rem + 1.875vw, 2.5rem);
  --font-4xl: clamp(2.25rem, 1.8rem + 2.25vw, 3rem);
  --font-5xl: clamp(3rem, 2.4rem + 3vw, 4rem);

  /* Container query breakpoints */
  --container-sm: 400px;
  --container-md: 600px;
  --container-lg: 900px;
  --container-xl: 1200px;
}

/* Scrollbar hide utility for horizontal scrollable elements */
.scrollbar-hide {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none; /* Chrome, Safari and Opera */
}

/* Case Studies - Responsive Image Positioning */
.case-study-image {
  object-position: center !important;
}

@media (min-width: 1024px) {
  .case-study-image {
    object-position: right center !important;
  }
}

/* Case Studies - Hide CTA buttons on mobile */
.case-study-cta-button {
  display: none !important;
}

@media (min-width: 1024px) {
  .case-study-cta-button {
    display: inline-flex !important;
  }
}

/* Case Studies - Responsive Grid */
.case-studies-grid {
  flex-direction: column !important;
  gap: 16px !important;
}

@media (min-width: 1024px) {
  .case-studies-grid {
    flex-direction: row !important;
    gap: 24px !important;
  }
}

/* Case Studies - Mobile Card Styling */
@media (max-width: 1023px) {
  /* All cards should be full width and expanded on mobile */
  .case-study-card {
    width: 100% !important;
    max-width: 100% !important;
    flex: none !important;
  }

  /* Adjust card container height for mobile */
  .case-study-card > div:first-child {
    height: 480px !important;
    min-height: 480px !important;
  }

  /* Ensure proper spacing */
  .case-studies-section {
    padding: 48px 0 !important;
  }

  /* Adjust headline size for mobile */
  .case-studies-section h2 {
    font-size: 32px !important;
  }
}

/* Hero Section - Transparent outline button */
.hero-outline-button {
  background-color: transparent !important;
}

.hero-outline-button:hover {
  background-color: rgba(255, 255, 255, 0.2) !important;
}

/* Hero Section - Image positioning */
.hero-image {
  object-position: center 40% !important;
}

.hero-image-mobile {
  object-position: center 30% !important;
}

/* Use Cases Section - Mobile Responsive */
@media (max-width: 1023px) {
  /* Reduce section padding on mobile but add massive bottom padding to prevent overlap */
  .use-cases-section {
    padding: 48px 16px 120px 16px !important;
    margin-bottom: 40px !important;
    position: relative !important;
  }

  /* Header should stack vertically on mobile */
  .use-cases-header {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 24px !important;
  }

  /* Right side subtext should align left on mobile */
  .use-cases-subtext {
    align-items: flex-start !important;
  }

  .use-cases-subtext h5 {
    text-align: left !important;
  }

  /* Grid should stack vertically on mobile */
  .use-cases-grid {
    flex-direction: column !important;
    height: auto !important;
    gap: 16px !important;
    margin-bottom: 0 !important;
    position: relative !important;
    z-index: 1 !important;
  }

  /* All cards should be full width */
  .use-cases-grid > div {
    width: 100% !important;
    flex: none !important;
    height: 400px !important;
    position: relative !important;
    z-index: 1 !important;
  }

  /* Right column should not stack differently */
  .use-cases-grid > div:last-child {
    flex-direction: column !important;
    gap: 16px !important;
  }

  /* Cards in the right column */
  .use-cases-grid > div:last-child > div {
    height: 300px !important;
    flex: none !important;
    margin-bottom: 0 !important;
  }

  /* Ensure last card in the last column has extra bottom margin */
  .use-cases-grid > div:last-child > div:last-child {
    margin-bottom: 0 !important;
  }
}

/* Templates Section - Add massive top padding on mobile to prevent overlap */
@media (max-width: 1023px) {
  .templates-section {
    padding-top: 100px !important;
    margin-top: 40px !important;
    position: relative !important;
    z-index: 2 !important;
  }
}

/* Phone Mockup Section - Mobile Responsiveness */
@media (max-width: 1023px) {
  /* Phone mockup section - increase height for larger phone and full-width buttons on mobile */
  .phone-mockup-section {
    min-height: 850px !important;
  }

  .phone-mockup-content {
    padding-bottom: 480px !important;
    align-items: flex-start !important;
  }

  /* Left-align text on mobile */
  .phone-mockup-content h2,
  .phone-mockup-content p {
    text-align: left !important;
  }

  .phone-mockup-content .flex-col {
    align-items: flex-start !important;
  }

  /* Enlarge phone mockup on mobile */
  .phone-mockup-section img {
    width: 400px !important;
    max-width: 90vw !important;
  }
}

@media (min-width: 640px) and (max-width: 1023px) {
  /* Tablet sizing */
  .phone-mockup-section {
    min-height: 780px !important;
  }

  .phone-mockup-content {
    padding-bottom: 420px !important;
  }

  /* Reset phone size for tablet */
  .phone-mockup-section img {
    width: 360px !important;
    max-width: 70vw !important;
  }
}

@media (min-width: 768px) and (max-width: 1023px) {
  .phone-mockup-section {
    min-height: 820px !important;
  }

  .phone-mockup-content {
    padding-bottom: 480px !important;
  }

  .phone-mockup-section img {
    width: 400px !important;
    max-width: 50vw !important;
  }
}

/* Customers Section - Responsive Grid */
.customers-grid {
  flex-direction: column !important;
}

@media (min-width: 1024px) {
  .customers-grid {
    flex-direction: row !important;
  }
}

/* CTA Email Input - Base Desktop styles */
input.cta-email-input {
  flex: 1;
  height: 52px !important;
  padding: 0 20px !important;
  border-radius: 13px;
  border: none;
  background-color: #ffffff;
  font-size: 16px !important;
  font-weight: 400;
  color: #1a1a1a;
  outline: none;
  width: auto;
}

button.cta-submit-button {
  height: 52px !important;
}

/* Customers Section - Mobile Responsive Cards */
@media (max-width: 1023px) {
  /* Reduce section padding slightly on mobile */
  .customers-section {
    padding: 60px 16px !important;
  }

  /* Fix headline and subtitle to prevent scroll glitch from viewport unit recalculation */
  .customers-section h2 {
    font-size: 1.75rem !important;
  }

  .customers-section > div > div:first-child p {
    font-size: 0.875rem !important;
  }

  /* Main grid stacks vertically */
  .customers-grid {
    flex-direction: column !important;
    gap: 16px !important;
  }

  /* Left and Right columns stack vertically and take full width */
  .customers-column {
    flex-direction: column !important;
    width: 100% !important;
    flex: none !important;
    gap: 16px !important;
  }

  /* Rows within columns also stack vertically on mobile */
  .customers-row {
    flex-direction: column !important;
    width: 100% !important;
    flex: none !important;
    gap: 16px !important;
  }

  /* All direct children of rows should be full width */
  .customers-row > div {
    width: 100% !important;
    flex: none !important;
  }

  /* Yearly savings card needs minimum height to show all content */
  .yearly-savings-card {
    min-height: 320px !important;
    height: auto !important;
  }

  /* Reduce padding on all cards for mobile */
  .customers-grid div[style*="padding: 32px"] {
    padding: 24px !important;
  }

  /* Image containers - make responsive */
  .customers-grid div[style*="width: 284px"] {
    width: 100% !important;
    height: 220px !important;
    flex-shrink: 0 !important;
  }

  /* Ensure images fill their containers properly */
  .customers-grid img {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
  }

  /* Scale down the large numbers for mobile readability */
  .customers-grid h1 {
    font-size: 64px !important;
  }

  /* Keep the Gruby logo but scale it for mobile */
  .customers-grid svg[width="750"] {
    width: 500px !important;
    height: 500px !important;
    bottom: -100px !important;
    right: -60px !important;
  }

  /* Adjust heading sizes for mobile */
  .customers-grid h5 {
    font-size: 16px !important;
  }

  /* Ensure proper box-sizing for all elements */
  .customers-grid * {
    box-sizing: border-box !important;
  }

  /* CTA Form - Stack vertically and increase size on mobile */
  .cta-form {
    flex-direction: column !important;
    gap: 16px !important;
    max-width: 100% !important;
  }

  .cta-form input[type="email"],
  input.cta-email-input {
    height: 72px !important;
    font-size: 18px !important;
    padding: 0 24px !important;
    width: 100% !important;
  }

  .cta-form button,
  button.cta-submit-button {
    height: 72px !important;
    width: 100% !important;
    font-size: 18px !important;
  }

  /* Features tabs - Show dropdown on mobile, hide desktop tabs */
  .features-tabs-desktop {
    display: none !important;
  }

  .features-tabs-mobile {
    display: block !important;
  }

  .features-tabs-container {
    padding: 16px !important;
  }
}

/* Desktop - Show tabs, hide dropdown */
@media (min-width: 1024px) {
  .features-tabs-desktop {
    display: flex !important;
  }

  .features-tabs-mobile {
    display: none !important;
  }
}

